#!/usr/bin/env bash
# Wrap `tig` to use .homegit.

main() {
    DIR="$( cd -P "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
    . "$DIR"/git _source

    tig="$(set_aside_this_and_find_that "$DIR" tig)"

    if [ -z "$tig" ]; then
        # No `tig`; fallback to `git log`.
        exec "$HOME"/bin/git tiglike
    fi

    if use_homegit; then
        export GIT_DIR="$HOME"/.homegit
    fi

    exec "$tig" "$@"
}

main "$@"
