# fluxbox startup file
#
# By this point, X has called startfluxbox.
# The goal of this file is to:
#    * set a custom fluxbox environment
#    * start apps before starting fluxbox
#    * start fluxbox

# Use custom built fluxbox.
export PATH=/opt/fluxbox/bin:$HOME/bin:$PATH

# Set a solid black background.
fbsetroot -solid black

xbacklight -set 45

gnome-settings-daemon &

eval $(gnome-keyring-daemon --start)
export SSH_AUTH_SOCK

parcellite &
nm-applet &
thunar --daemon &
xfce4-power-manager --no-daemon &
gnome-sound-applet &
gnome-screensaver-watch &
bash -c 'sleep 10; exec gnome-do' &
bash -c 'sleep 300; killall update-notifier' &
screens &
dropbox start &

notice `uname -n` fluxbox is starting
trap 'notice `uname -n` fluxbox is stopping' 0 INT TERM QUIT EXIT

# Print traps to stdio for X log.
trap

fluxbox
